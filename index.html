<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />

  <title>MINUKODU | Builder</title>
  <!-- Web Manifest -->
  <link rel="manifest" href="/assets/site.webmanifest">
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css" />
  <!-- x.editable style -->
  <link rel="stylesheet" href="dist/css/bootstrap-editable.css" />
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/adminlte.min.css" />
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet" />
  <!-- mfd icons -->
  <link rel="stylesheet" type="text/css" href="dist/css/mfd-icons.css" />
  <!-- mdi icons -->
  <link rel="stylesheet" type="text/css" href="dist/css/mdi-icons.css" />
  <!-- emoji icons -->
  <link rel="stylesheet" type="text/css" href="dist/css/em-icons.css" />
  <!-- fontawesome-iconpicker -->
  <link rel="stylesheet" href="dist/css/fontawesome-iconpicker.min.css" />
  <!-- selectpicker -->
  <link rel="stylesheet" href="dist/css/bootstrap-select.min.css" />
  <!-- bootstrap-table -->
  <link rel="stylesheet" href="plugins/bootstrap-table/bootstrap-table.min.css" />
  <!-- gridstack -->
  <link rel="stylesheet" href="plugins/gridstack/gridstack.min.css" />
  <link rel="stylesheet" href="plugins/gridstack/gridstack-6-18.css" />
  <!-- App style -->
  <link rel="stylesheet" href="dist/css/app.css" />
</head>

<body class="hold-transition sidebar-mini">

  <!-- MODALS ############################################ -->
  <!-- Select Modal -->
  <div class="modal modal-xl fade" id="selectModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ModalLabel">Select value</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="hide-at-start icon-select form-control mb-5"></div>

            <div class="hide-at-start states-select form-control mb-5">
              <input class="typeahead" type="text" placeholder="select state by typing ..." />
              <div id="modal-states-info-text"></div>
            </div>

            <div class="hide-at-start file-select form-control mb-5">
              <input id="modalFileInput" type="file" accept="image/png, image/jpeg" placeholder="select image"
                onchange="modalPreviewFile()" />
              <div id="modal-file-preview"><img height=100></img></div>
            </div>

            <div class="hide-at-start fa-icon-select form-group mb-5">
              <div class="btn-group">
                <button type="button" class="btn btn-light iconpicker-component">
                  <i class="fa fa-fw fa-heart"></i>
                </button>
                <button type="button" class="icp icp-dd btn btn-light dropdown-toggle" data-selected="fa-car"
                  data-toggle="dropdown">
                  <span class="caret"></span>
                  <span class="sr-only">Toggle Dropdown</span>
                </button>
                <div class="dropdown-menu"></div>
              </div>
            </div>

            <div class="hide-at-start mfd-icon-select form-group mb-5">
              <div class="btn-group">
                <button type="button" class="btn iconpicker-component border border-primary icon-holder">
                  <i class="mfd-icon audio_audio"></i>
                </button>
                <button type="button" id="icp-mfd" class="icp icp-dd icp-mfd btn-primary dropdown-toggle"
                  data-selected="mfd-icon audio_audio" data-toggle="dropdown">
                  <span class="caret"></span>
                  <span>Select Icon</span>
                </button>
                <div class="dropdown-menu"></div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-ok btn-primary">Ok</button>
        </div>
      </div>
    </div>
  </div>
  <!-- /Select Modal -->
  <!-- config Show Modal -->
  <div class="modal modal-xl fade" id="configShowModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ModalLabel">view configuration</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <!-- <div id="qrcode-holder" style="width: 200px; height: 200px"></div>
          <div id="show-config-holder">
            <pre></pre>
          </div> -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- /config Show Modal -->
  <!-- importSettings Modal -->
  <div class="modal modal-xl fade" id="importSettingsModal" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-warning" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="ModalLabel">import settings</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="mb-3">select standard-width of widgets in 18-row-grid</div>
          <div id="importSettingsSelectRows">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="selectRows" id="selectRows1" value="9" checked>
              <label class="form-check-label" for="selectRows1">
                50% (9 of 18)
              </label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="selectRows" id="selectRows2" value="18">
              <label class="form-check-label" for="selectRows2">
                100% (18 of 18)
              </label>
            </div>
          </div>
          <div class="mt-3 mb-3">select theme</div>
          <div id="importSettingsSelectTheme">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="selectTheme" id="selectTheme1" value="dark" checked>
              <label class="form-check-label" for="selectTheme1">
                dark theme
              </label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="selectTheme" id="selectTheme2" value="light">
              <label class="form-check-label" for="selectTheme2">
                light theme
              </label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" id="btn-importSettingsConfirm" class="btn btn-primary" data-dismiss="modal">
            start import
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- /im/export Modal Modal -->
  <!-- MODALS ############################################ -->



  <div id="workingNote">
    <div class='workingNoteInner'><i class='fas fa-spinner fa-spin'></i><span class='text'>
        generating pages from config... please wait
      </span>
    </div>
  </div>
  <div class="wrapper">
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <!-- Left navbar links -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
        </li>
        <li class="mk-hidden nav-item d-none d-sm-inline-block">
          <a href="#" class="nav-link">Home</a>
        </li>
      </ul>

      <form class="form-inline ml-3">
        <button type="button" id="btn-add-page" class="btn btn-sm btn-block btn-labeled btn-primary">
          <span class="btn-label"><i class="fas fa-plus"></i></span>
          add Page
        </button>
      </form>
      <form class="form-inline form-connection ml-3">
        <div class="input-group input-group-sm">
          <div class="input-group-prepend">
            <span class="input-group-text alert-info"><i class="fas fa-laptop"></i></span>
          </div>
          <input type="url" id="data-url-port" class="form-control form-control-sm"
            placeholder="http://94.130.57.38:9090/" value="http://94.130.57.38:9090/" />
          <div class="input-group-append">
            <button type="button" id="btn-connect" class="btn btn-sm btn-block btn-labeled btn-outline-success">
              <span class="btn-label"><i class="fas fa-plug"></i></span>
              connect
            </button>
          </div>
          <div class="input-group-append">
            <button type="button" id="btn-read-variables" disabled="disabled"
              class="btn btn-sm btn-block btn-labeled btn-outline-secondary">
              <span class="btn-label"><i class="fas fa-list"></i></span>
              read States
            </button>
          </div>
          <div class="input-group-append">
            <button type="button" id="btn-read-configfiles" disabled="disabled"
              class="btn btn-sm btn-block btn-labeled btn-outline-secondary">
              <span class="btn-label"><i class="fas fa-list"></i></span>
              read Config-Files
            </button>
            <!-- <button type="button" class="btn btn-danger dropdown-toggle dropdown-toggle-split" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false">
              <span class="sr-only">Toggle Dropdown</span>
            </button>
            <div class="dropdown-menu" id="btn-read-configfiles-old-menu">
              <a class="dropdown-item" id="btn-read-configfiles-old" href="#">read files from old folder</a>
            </div> -->
          </div>
        </div>
        <!-- /.input group -->
      </form>

      <form class="form-inline ml-3 dropdown">
        <div class="input-group input-group-sm">
          <div class="input-group-prepend">
            <div class="input-group-text">config-file:</div>
          </div>
          <input class="form-control" type="text" autocomplete="off" placeholder="filename" id="select-configfile"
            data-toggle="dropdown" />
          <ul id="filelist" class="dropdown-menu" role="menu"></ul>
          <div class="input-group-append">
            <div class="input-group-text">.json</div>
            <button id="btn-load-file" class="btn btn-outline-primary btn-sm" type="submit">
              load
            </button>
            <button id="btn-save-file" class="btn btn-outline-primary btn-sm" type="submit">
              save
            </button>
            <button id="btn-delete-file" class="btn btn-outline-danger btn-sm" type="submit">
              delete
            </button>
          </div>
        </div>
      </form>
      <form class="form-inline ml-3">
        <button id="btn-cache-clear-all" class="btn btn-danger btn-sm" type="submit">
          clear browser cache
        </button>
      </form>
      <!-- col messages-->
      <div id="message-holder" class="ml-2"></div>
    </nav>
    <!-- /.navbar -->
    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-info elevation-0">
      <!-- Brand Logo -->
      <a href="#" class="brand-link">
        <img src="dist/img/minukodu.png" alt="MinuKodu Logo" class="brand-image elevation-3" style="opacity: 0.8" />
        <span class="brand-text font-weight-light">MINUKODU Builder</span>
      </a>

      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Sidebar Menu -->
        <nav class="mt-2">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
            <!-- preview -->
            <li id="preview-nav-item" class="nav-item">
              <a href="#" target="_blank" class="nav-link">
                <i class="nav-icon fas fa-glasses"></i>
                <p>
                  Preview in new tab
                  <i id="preview-qrcode" class="fas fa-qrcode"></i>
                </p>
              </a>
            </li>
            <!-- save and show config -->
            <!-- <li id="show-config-nav-item" class="nav-item">
              <a href="#" target="_blank" class="nav-link">
                <i class="nav-icon fas fa-magic"></i>
                <p>save and show config.js</p>
              </a>
            </li> -->
            <!-- only show config -->
            <!-- <li id="only-show-config-nav-item" class="nav-item">
              <a href="#" target="_blank" class="nav-link">
                <i class="nav-icon fas fa-magic"></i>
                <p>show config.js without saving</p>
              </a>
            </li> -->
            <!-- import/export config -->
            <li id="imExport-config-nav-item" class="nav-item">
              <a href="#" target="_blank" class="nav-link">
                <i class="nav-icon fas fa-list"></i>
                <p>import/export config</p>
              </a>
            </li>
            <li id="banner-nav-item" class="nav-item">
              <a href="#" target="_blank" class="nav-link">
                <i class="nav-icon fa fa-flag"></i>
                <p>banner config</p>
              </a>
            </li>
            <li id="theme-nav-item" class="nav-item">
              <a href="#" target="_blank" class="nav-link">
                <i class="nav-icon fa fa-palette"></i>
                <p>global theme</p>
              </a>
            </li>
            <li id="css-nav-item" class="nav-item">
              <a href="#" target="_blank" class="nav-link">
                <i class="nav-icon fas fa-file-code"></i>
                <p>global CSS</p>
              </a>
            </li>
            <li id="spliiterOpen-nav-item" class="nav-item settings">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="chkSplitterOpen" />
                <label class="form-check-label" for="chkSplitterOpen">
                  Menu always open
                </label>
              </div>
            </li>
            <li id="lightMode-nav-item" class="nav-item settings hidden">
              <form>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="chkLightMode" />
                  <label class="form-check-label" for="chkLightMode">
                    Light Mode
                  </label>
                </div>
              </form>
            </li>
            <li id="alarmPage-nav-item" class="nav-item settings">
              <form>
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" value="" id="chkAlarmPage" />
                  <label class="form-check-label" for="chkAlarmPage">
                    use Alarmpage
                  </label>
                </div>
              </form>
            </li>
            <li id="alarmPage-nav-item" class="nav-item settings">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="chkMinuAru" />
                <label class="form-check-label" for="chkMinuAru">
                  use ioBroker.minuaru.0
                </label>
              </div>
              </form>
            </li>
            <li id="nbOfCols-nav-item" class="nav-item settings mb-2 hidden">
              <div class="form-group">
                <select class="form-control form-control-sm" id="nbOfColsSelect" value="18"
                  onchange="setGridCols(this);">
                  <!-- <option value="6">6 columns</option>
                  <option value="12">12 columns</option> -->
                  <option selected="selected" value="18">18 columns</option>
                </select>
              </div>
            </li>
            <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
            <li id="pages-nav-item" class="nav-item menu-open">
              <a href="#" class="nav-link active">
                <i class="nav-icon fas fa-book-open"></i>
                <p>
                  Pages
                  <i class="right fas fa-angle-left"></i>
                </p>
              </a>
            </li>
            <div id="pages-nav-item-end" class="hidden"></div>
          </ul>
        </nav>
        <!-- /.sidebar-menu -->
        <hr />
        <div id="preview-qrcode-holder-title">QRCode for preview:</div>
        <div id="preview-qrcode-holder" class="mt-2 ml-1">
          .. to be generated ...
        </div>
      </div>

      <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Main content -->
      <div class="content">
        <div class="container-fluid">
          <div class="row mb-2">
            <!-- pages -->
            <div class="col col-lg-9">
              <div id="pages" class="editorSection list-group mt-3">
                <div class="tab-content" id="myTabContent">
                  <!-- page will be inserted here -->
                </div>
                <!-- tab-content -->
              </div>
              <!-- /pages -->
              <!-- banner -->
              <div id="bannerData" class="editorSection list-group mt-3"></div>
              <!-- /banner -->
              <!-- theme -->
              <div id="theme" class="editorSection list-group mt-3">
                <div id="theme-button-group" class="btn-group mb-2" role="group">
                  <button id="btn-theme-light" class="btn btn-primary btn-sm">
                    load default light theme
                  </button>
                  <button id="btn-theme-dark" class="btn btn-secondary btn-sm">
                    load default dark theme
                  </button>
                </div>
                <div class="form-group">
                  <label for="themeTextarea">edit your theme here</label>
                  <textarea class="form-control rounded-0" id="themeTextarea" rows="50"></textarea>
                </div>
              </div>
              <!-- /theme -->
              <!-- css -->
              <div id="css" class="editorSection list-group mt-3">
                <div class="form-group">
                  <label for="CssTextarea">Global CSS for HTML Widgets</label>
                  <textarea class="form-control rounded-0" id="CssTextarea" rows="20"
                    placeholder=".element { background: #FF0000; } ...">
                        .element { background: #FF0000; }</textarea>
                </div>
              </div>
              <!-- /css -->
              <!-- im/export -->
              <div id="imExportSection" class="editorSection list-group mt-3">
                <button type="button" class="btn btn-primary btn-importConfig">
                  import
                </button>
                <div class="form-group">
                  <div id="imExport-qrcode-holder"></div>
                  <div id="imExport-config-holder">
                    <label for="imExportTextarea"></label>
                    <textarea class="form-control rounded-0" id="imExportTextarea" rows="20"
                      placeholder="paste configuration here">
                  </textarea>
                  </div>
                </div>
                <button type="button" class="mb-5 btn btn-primary btn-importConfig">
                  import
                </button>
              </div>
              <!-- /im/export  -->
            </div>
            <!-- col settings-editor-->
            <div id="settings-holder-wrapper" class="col col-lg-3">
              <div id="settings-holder" class="mt-1">
                <table id="props-nowidget" class="table table-striped widget-settings-table">
                  <tr>
                    <td>select widget first</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
          <!-- row -->
        </div>
        <!-- /.container-fluid -->
      </div>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Control sidebar content goes here -->
      <div class="p-3">
        <h5>Title</h5>
        <p>Sidebar content</p>
      </div>
    </aside>
    <!-- /.control-sidebar -->
    <!-- Main Footer -->
    <footer class="main-footer">
      <!-- Default to the left -->
      Minu Kodu - Mein Zuhause - my home is my castle
      <!-- To the right -->
      <div class="float-right d-none d-sm-inline">
        <a href="https://minukodu.de/impressum">Impressum</a>
        <a href="https://minukodu.de/datenschutzerklaerung">Datenschutz</a>
        <span class="ml-2" id="versionnumber">App-Version V?.?.?</span>
      </div>
    </footer>
  </div>
  <!-- ./wrapper -->
  <!-- loading overlay -->
  <div id="loading">
    <div class="loader"></div>
  </div>
  <!-- REQUIRED SCRIPTS -->
  <!-- jQuery -->
  <script src="plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- Popper -->
  <script src="plugins/popper/umd/popper.min.js"></script>
  <!-- moment -->
  <script src="dist/js/moment-with-locales.js"></script>
  <!-- x-editable -->
  <script src="dist/js/bootstrap-editable.min.js"></script>
  <!-- Sortable -->
  <script src="dist/js/Sortable.min.js"></script>
  <!-- Socket IO -->
  <script src="dist/js/socket.io.js"></script>
  <!-- MFD Icon List -->
  <script src="dist/js/mfdicons.js"></script>
  <!-- MDI Icon List -->
  <script src="dist/js/mdiicons.js"></script>
  <!-- emoji Icon List -->
  <script src="dist/js/emicons.js"></script>
  <!-- fontawesome picker -->
  <script src="dist/js/fontawesome-iconpicker.js"></script>
  <!-- handlebars -->
  <script src="dist/js/handlebars.min.js"></script>
  <!-- typeahead -->
  <script src="dist/js/typeahead.bundle.min.js"></script>
  <!-- selectpicker -->
  <script src="dist/js/bootstrap-select.min.js"></script>
  <!-- bootstrap-table -->
  <script src="plugins/bootstrap-table/bootstrap-table.min.js"></script>
  <!-- gridstack -->
  <script src="plugins/gridstack/gridstack-h5.js"></script>
  <!-- uuid -->
  <script src="dist/js/uuid-v4.js"></script>
  <!-- qrcode -->
  <script src="dist/js/qrcode.js"></script>
  <!-- cssjson -->
  <script src="dist/js/cssjson.js"></script>
  <!-- momentjs -->
  <script src="dist/js/moment.min.js"></script>
  <!-- numeraljs -->
  <script src="dist/js/numeral/numeral.js"></script>
  <!-- locales -->
  <script src="dist/js/numeral/locales/de.js"></script>
  <!-- AdminLTE App -->
  <script src="dist/js/adminlte.min.js"></script>
  <!-- Templates -->
  <script src="dist/js/templates.js"></script>
  <!-- Themes -->
  <script src="dist/js/themes.js"></script>
  <!-- Widget Definition -->
  <script src="dist/js/widgetJSON.js"></script>
  <!-- helper functions -->
  <script src="dist/js/helper_fkt.js"></script>
  <!-- widget function -->
  <script src="dist/js/widget_fkt.js"></script>
  <!-- page functions -->
  <script src="dist/js/page_fkt.js"></script>
  <!-- App -->
  <script src="dist/js/app.js"></script>
</body>

</html>